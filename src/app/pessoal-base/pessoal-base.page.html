<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="gravarDados(form.value)">
          <ion-icon slot="icon-only" name="save"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Informações gerais</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  
  <form #form="ngForm" (ngSubmit)="onSubmit(form.value)" novalidate>
    
    <ion-list>

      <!--
      <ion-item>
        <ion-label  position="stacked">
            {{ usuario?.perfilPessoal?.id }}
        </ion-label>
      </ion-item>
      -->

      <ion-item>
        <ion-label  position="stacked">Nome</ion-label>
        <ion-input  type="text" 
                    name="nome" 
                    required
                    [ngModel]="usuario?.nome"
                    ngModel required #nome="ngModel"
                    [class.invalid]="nome.errors && nome.dirty"
                    >
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label  position="stacked">Telefone</ion-label>
        <ion-input  type="text" 
                    name="telefone" 
                    [ngModel]="usuario?.tefefone" 
                    ngModel required #telefone="ngModel"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label  position="stacked">CPF</ion-label>
        <ion-input  type="text" 
                    name="cpf" 
                    [ngModel]="usuario?.cpf" 
                    ngModel required #cpf="ngModel"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label  position="stacked">RG</ion-label>
        <ion-input  type="text" 
                    name="rg" 
                    [ngModel]="usuario?.rg" 
                    ngModel required #cpf="ngModel"></ion-input>
      </ion-item>      
   
      <ion-item>
        <ion-label>Gênero</ion-label>
        <!-- [(ngModel)]="cmb_genero" -->
        <ion-select name="sexo"
                    [ngModel]="usuario?.perfilPessoal?.sexo"
                    placeholder="Selecione">
          <ion-select-option value="F">Feminino</ion-select-option>
          <ion-select-option value="M">Masculino</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label  position="stacked">Data de nascimento</ion-label>
        <ion-input  type="text" 
                    name="nascimento"
                    [ngModel]="usuario?.perfilPessoal?.nascimento"
                    ngModel required #nascimento="ngModel"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label  position="stacked">Altura</ion-label>
        <ion-input  type="number" 
                    name="altura"
                    [ngModel]="usuario?.perfilPessoal?.altura"
                    ngModel required #altura="ngModel"></ion-input>
      </ion-item>      

      <ion-item>
        <ion-label  position="stacked">Peso</ion-label>
        <ion-input  type="number" 
                    name="peso"
                    [ngModel]="usuario?.perfilPessoal?.peso"
                    ngModel required #peso="ngModel"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Pratica esporte</ion-label>
        <ion-toggle name="praticaEsporte"
                    [ngModel]="usuario?.perfilPessoal?.praticaEsporte"
                    >
        </ion-toggle>
      </ion-item>

      <ion-item>
        <ion-label>Doador de órgãos</ion-label>
        <ion-toggle name="doadorOrgao"
                    [ngModel]="usuario?.perfilPessoal?.doadorOrgao"
                    >
        </ion-toggle>
      </ion-item>

      <ion-item>
        <ion-label>Doador de sangue</ion-label>
        <ion-toggle name="doadorSangue"
                    [ngModel]="usuario?.perfilPessoal?.doadorSangue"
                    >
        </ion-toggle>
      </ion-item>


      <ion-item>
        <ion-label>Tipo sanguíneo</ion-label>
        <!-- [interfaceOptions]="customPopoverOptions"  interface="popover"  -->
        <ion-select name="tipoSangue" 
                    placeholder="Selecione"
                    [ngModel]="usuario?.perfilPessoal?.tipoSangue"
                    multiple="false">
          <ion-select-option value="A+">A+</ion-select-option>
          <ion-select-option value="A-">A-</ion-select-option>
          <ion-select-option value="B+">B+</ion-select-option>
          <ion-select-option value="B-">B-</ion-select-option>
          <ion-select-option value="AB+">AB+</ion-select-option>
          <ion-select-option value="AB-">AB-</ion-select-option>
          <ion-select-option value="O+">O+</ion-select-option>
          <ion-select-option value="O-">O-</ion-select-option>
        </ion-select>
      </ion-item>

      <div padding>
        <ion-button color="primary" 
          expand="block" 
          type="submit" 
          [disabled]="!form.valid">Gravar dados
        </ion-button>

        <div *ngIf="usuario?.perfilPessoal?.id != null">
        <ion-button 
          color="danger"  
          expand="block" 
          type="button" 
          (click)="deletePerfilPessoal()">Excluir perfil Pessoal
        </ion-button>
      </div>
      </div>    
  
    </ion-list>


  </form>
</ion-content>
  

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="secondary">
      <ion-button size="small" fill="outline" (click)="irParaTelaAnterior()">Anterior</ion-button>
    </ion-buttons>
    <ion-title>Criar perfil</ion-title>
    <ion-buttons slot="primary">
      <ion-button size="small" fill="outline" (click)="irParaProximaTela(form.value)">Próximo</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>